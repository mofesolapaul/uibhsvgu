!function(t,e){"function"==typeof define&&define.amd?define(e):t.tooltip||(t.tooltip=e())}(this,function(){function t(t){t&&(u=s.concat(),s=[]),Array.prototype.forEach.call(document.querySelectorAll("[data-tooltip]"),function(e,o){var l,a=e.getAttribute("title").trim();t&&u.length&&u[o]&&u[o].text&&(0===a.length&&(e.setAttribute("title",u[o].text),a=u[o].text),e.removeEventListener("mousemove",i),e.removeEventListener("mouseout",n),e.removeEventListener("mouseover",r)),a&&(e.setAttribute("title",""),e.setAttribute("data-tooltip-id",o),l=d(e.getAttribute("data-tooltip")),s[o]={text:a,options:l},e.addEventListener("mousemove",i),e.addEventListener("mouseout",n),e.addEventListener("mouseover",r))}),t&&(u=null)}function e(t,e){var o=document.createElement("div"),i=document.createTextNode(t),n=e&&s[e]&&s[e].options;n&&n.class&&o.setAttribute("class",n.class),o.setAttribute("id",l.tooltipId),o.appendChild(i),document.querySelector("body").appendChild(o)}function o(){return document.querySelector("#"+l.tooltipId)}function i(t){var e=this.getAttribute("data-tooltip-id"),i=o(),n=e&&s[e]&&s[e].options,r=n&&n.offset||l.offsetDefault,d=window.scrollY||window.pageYOffset,u=window.scrollX||window.pageXOffset,a=t.pageY+r,f=t.pageX+r;i&&(a=a-d+i.offsetHeight+20>=window.innerHeight?a-i.offsetHeight-20:a,f=f-u+i.offsetWidth+20>=window.innerWidth?f-i.offsetWidth-20:f,i.style.top=a+"px",i.style.left=f+"px")}function n(t){var e=o();e&&document.querySelector("body").removeChild(e)}function r(t){var o=this.getAttribute("data-tooltip-id"),i=o&&s[o]&&s[o].text;i&&e(i,o)}function d(t){var e;if(t.length)try{e=JSON.parse(t.replace(/'/gi,'"'))}catch(t){console.log(t)}return e}var l={tooltipId:"tooltip",offsetDefault:15},s=[],u=null;return function(){window.addEventListener("load",t)}(),{setOptions:function(t){for(var e in t)l.hasOwnProperty(e)&&(l[e]=t[e])},refresh:function(){t(!0)}}});